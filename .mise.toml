[tools]
node = "24"
dprint = "latest"

[tasks.install]
run = "npm install --save-dev"

[tasks.lint]
run = "npm run lint"

[tasks.build]
run = "npm run build"

[tasks.format]
run = "dprint fmt"

[tasks."format:check"]
run = "dprint check"

[tasks.test]
depends = ["build"]
description = "Run local integration test with mocked git"
run = "node tests/local-sync.test.js"

[tasks.test-ci]
hide = true
description = "CI task for running lint/build/test"
run = [
    "mise run install",
    "mise run format:check",
    "mise run lint",
    "mise run test",
]
